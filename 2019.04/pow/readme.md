https://qiita.com/SAKIchan/items/1ba150fbdf4e64ade548 のコメントのための実装